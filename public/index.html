<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="robots" content="index, follow">
    <title>Секс рассказы 2025-2026 — читать онлайн бесплатно 18+ | sexnews.ru</title>
    <meta name="description" content="Самые горячие секс рассказы 2025-2026 года без регистрации: измена жены, групповой секс, первый анал, инцест, зоо, африканцы, куни, минет и сотни других тем. Бесплатно и анонимно!">
    <style>
        body{margin:0;padding:0;background:#fff;color:#222;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;line-height:1.8;font-size:18px}
        .wrapper{max-width:860px;margin:0 auto;padding:15px}
        h1{font-size:34px;margin:30px 0 20px;text-align:center;color:#c0392b;line-height:1.3}
        h2{font-size:26px;margin:45px 0 20px;text-align:center;color:#e74c3c}
        .intro{margin:35px 0 55px;text-align:center;font-size:19.5px;line-height:1.85;color:#222}
        .intro strong{color:#c0392b}
        .stories-grid{margin:40px 0}
        .stories-grid a{display:block;margin:15px 0;padding:18px 22px;background:#fafafa;border:1px solid #eee;border-radius:12px;text-decoration:none;color:#222;font-size:19.5px;transition:all .25s}
        .stories-grid a:hover{background:#fef5f5;border-color:#e74c3c;color:#c0392b}
        .loader,.fallback{text-align:center;margin:60px 0;font-size:19px;color:#999}
        .fallback a{color:#e74c3c;font-size:22px;text-decoration:underline}
        @media(max-width:768px){h1{font-size:28px}.intro{font-size:18px}.stories-grid a{font-size:18.5px;padding:16px 18px}}
    </style>
</head>
<body>
    <div class="wrapper">
        <h1>Секс рассказы 2025-2026 — читать онлайн бесплатно 18+</h1>
        <div class="intro">
            <p>Добро пожаловать на <strong>sexnews.ru</strong> — крупнейший русский архив <strong>секс рассказов</strong> и <strong>эротических историй</strong> 2025-2026 года!</p>
            <p>Тысячи горячих историй: <strong>измена жены</strong>, <strong>групповой секс</strong>, <strong>первый анал</strong>, <strong>инцест</strong>, <strong>зоо</strong>, <strong>куни</strong>, <strong>минеты</strong>, <strong>лесби</strong>, <strong>геи</strong>, <strong>африканцы</strong>, <strong>свингеры</strong>, <strong>БДСМ</strong> и сотни других тем.</p>
            <p>Всё бесплатно, без регистрации и смс. Обновления каждый день!</p>
        </div>

        <h2>Новые и самые читаемые секс рассказы прямо сейчас</h2>
        <div id="stories-container" class="stories-grid">
            <div class="loader">Загружаем горячие секс рассказы...</div>
        </div>

        <div style="text-align:center;margin:60px 0;">
            <a href="https://anonymedates.icu/H4CL9y" rel="nofollow noopener" target="_blank"
               style="display:inline-block;background:#e74c3c;color:#fff;padding:20px 50px;font-size:24px;border-radius:12px;text-decoration:none;font-weight:bold">
                Ещё больше секс рассказов 18+ →
            </a>
        </div>
    </div>

<script>
    const PER_PAGE = 40;
    let allUrls = [];
    let currentIndex = 0;

    // Пробуем несколько путей к sitemap
    const paths = ['/sitemap.xml', '/public/sitemap.xml', 'sitemap.xml'];

    async function loadSitemap() {
        for (let path of paths) {
            try {
                console.log('Пробуем загрузить sitemap по пути:', path);
                const response = await fetch(path + '?t=' + Date.now());
                if (!response.ok) throw new Error('Не 200');
                const text = await response.text();
                console.log('Sitemap загружен:', text.length + ' символов');
                const parser = new DOMParser();
                const xml = parser.parseFromString(text, 'text/xml');
                const locs = xml.querySelectorAll('loc');
                console.log('Найдено loc элементов:', locs.length);
                
                allUrls = Array.from(locs).map(loc => {
                    let url = loc.textContent.trim();
                    console.log('Обрабатываем URL:', url);
                    if (!url.endsWith('.html')) return null;
                    // Извлекаем имя файла (последний сегмент)
                    const filename = url.split('/').pop();
                    if (!filename) return null;
                    const cleanTitle = filename
                        .replace('.html', '')
                        .replace(/-/g, ' ')
                        .replace(/\b\w/g, l => l.toUpperCase());
                    const fullUrl = url.includes('/pages/') ? url : '/pages/' + filename; // Если нет /pages/, добавляем
                    console.log('Готовый URL и title:', fullUrl, cleanTitle);
                    return { url: fullUrl, title: cleanTitle + ' — секс рассказ 18+' };
                }).filter(Boolean);

                console.log('Финальное количество URL:', allUrls.length);
                if (allUrls.length > 0) {
                    allUrls.sort(() => Math.random() - 0.5);
                    showPage();
                    setInterval(showPage, 60000);
                    return true;
                }
                throw new Error('Нет HTML-страниц');
            } catch (e) {
                console.error('Ошибка с путем ' + path + ':', e);
            }
        }
        throw new Error('Все пути провалены');
    }

    function showPage() {
        const container = document.getElementById('stories-container');
        const slice = allUrls.slice(currentIndex, currentIndex + PER_PAGE);
        const html = slice.map(item => `<a href="${item.url}">${item.title}</a>`).join('');
        container.style.opacity = '0';
        setTimeout(() => {
            container.innerHTML = html || '<div class="loader">Нет историй для показа</div>';
            container.style.opacity = '1';
        }, 300);
        currentIndex = (currentIndex + PER_PAGE) % allUrls.length;
    }

    loadSitemap().catch(() => {
        console.error('Sitemap не загружен');
        document.getElementById('stories-container').innerHTML = '<div class="fallback">Архив временно недоступен<br><a href="/pages/">→ Все рассказы здесь</a></div>';
    });
</script>
</body>
</html>
